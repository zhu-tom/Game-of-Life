(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(4),o=n.n(s),r=n(5),l=n(6),c=n(1),u=n(7),h=n(8),f=n(2);function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(f.a)(t);if(e){var i=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Object(h.a)(this,n)}}var v=function(t){Object(u.a)(n,t);var e=d(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={height:50,width:70,board:t.initializeBoard(50,70),sim:!0,mouseDown:!1,lastPos:{x:null,y:null},numTicks:0},t.canvas=i.a.createRef(),t.tick=t.tick.bind(Object(c.a)(t)),t.toggleSim=t.toggleSim.bind(Object(c.a)(t)),t.handleClickCell=t.handleClickCell.bind(Object(c.a)(t)),t.handleMouseOver=t.handleMouseOver.bind(Object(c.a)(t)),t.handleMouseDown=t.handleMouseDown.bind(Object(c.a)(t)),t.handleMouseUp=t.handleMouseUp.bind(Object(c.a)(t)),t.timer=setInterval(t.tick,100),t}return Object(l.a)(n,[{key:"initializeBoard",value:function(t,e){for(var n=[],a=0;a<t;a++){n[a]=[];for(var i=0;i<e;i++)n[a][i]=Math.random()>=.5}return n}},{key:"stopSim",value:function(){clearInterval(this.timer),this.setState({numTicks:0})}},{key:"handleClickClear",value:function(){var t=this;this.stopSim(),this.setState({sim:!1,board:Array.from({length:this.state.height},(function(){return Array.from({length:t.state.width},(function(){return!1}))}))})}},{key:"handleClickReset",value:function(){this.stopSim(),this.setState({sim:!1,board:this.initializeBoard(this.state.height,this.state.width)})}},{key:"handleClickCell",value:function(t){var e=this.getMousePos(t),n=e.x,a=e.y;this.setState((function(t){return t.board[a][n]=!t.board[a][n],{board:t.board}}))}},{key:"getMousePos",value:function(t){var e=t.clientX,n=t.clientY,a=this.canvas.current.getBoundingClientRect(),i=a.top,s=a.left;return{x:e=Math.floor((e-s)/10),y:n=Math.floor((n-i)/10)}}},{key:"handleMouseOver",value:function(t){var e=t,n=this.getMousePos(e),a=n.x,i=n.y;a===this.state.lastPos.x&&i===this.state.lastPos.y||(this.setState({lastPos:{x:a,y:i}}),!0===this.state.mouseDown&&this.handleClickCell(e))}},{key:"handleMouseDown",value:function(t){this.handleClickCell(t),this.setState({mouseDown:!0})}},{key:"handleMouseUp",value:function(t){this.handleClickCell(t),this.setState({mouseDown:!1})}},{key:"tick",value:function(){var t=this;this.setState((function(e){return{numTicks:t.state.numTicks+1,board:e.board.map((function(e,n){return e.map((function(e,a){var i=t.findNeighbours(n,a);return!0===e&&2===i||3===i}))}))}}))}},{key:"findNeighbours",value:function(t,e){for(var n=0,a=this.state.board,i=-1;i<2;i++)for(var s=-1;s<2;s++){var o=t+i,r=e+s;o<0||o>=a.length||r<0||r>=a[t].length||0===i&&0===s||!0!==a[o][r]||n++}return n}},{key:"toggleSim",value:function(){!1===this.state.sim?this.timer=setInterval(this.tick,100):clearInterval(this.timer),this.setState((function(t){return{sim:!t.sim}}))}},{key:"componentDidUpdate",value:function(){var t=this.canvas.current.getContext("2d");t.clearRect(0,0,this.canvas.current.width,this.canvas.current.height),this.state.board.forEach((function(e,n){e.forEach((function(e,a){e?t.fillRect(10*a,10*n,10,10):t.strokeRect(10*a,10*n,10,10)}))}))}},{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("h1",null,"John Conway's Game of Life"),i.a.createElement("canvas",{ref:this.canvas,onMouseMove:this.handleMouseOver,onClick:this.handleClickCell,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,width:10*this.state.width,height:10*this.state.height}),i.a.createElement("div",null,i.a.createElement("button",{onClick:this.toggleSim},this.state.sim?"Pause":"Play"),i.a.createElement("button",{onClick:function(){return t.handleClickReset()}},"Reset"),i.a.createElement("button",{onClick:function(){return t.handleClickClear()}},"Clear"),i.a.createElement("p",null,"Simulations: ",this.state.numTicks)))}}]),n}(a.Component);n(14);o.a.render(i.a.createElement(v,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.9b8749c6.chunk.js.map